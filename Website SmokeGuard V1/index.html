<!DOCTYPE html>
<html lang="nl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SmokeGuard</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="loadAnim">
      <object type="image/svg+xml" data="./Assets/LoadAnim.svg"></object>
    </div>

    <div id="main-content" class="hidden">
      <nav class="navigation-bar" aria-label="Main navigation">
        <div class="nav-container">
          <div class="brand-container">
            <img
              loading="lazy"
              src="https://cdn.builder.io/api/v1/image/assets/TEMP/fa67fcabecac5d07596aa2af420bb9e1f4da82f81d71ae2e5956c69f8883b41a?placeholderIfAbsent=true&apiKey=a70dacacf9cf43edb72fb60a0a2a6b13"
              alt="SmokeGuard Logo"
              class="brand-logo"
            />
            <div class="brand-name">SMOKEGUARD</div>
          </div>
          <div class="nav-links" role="menubar">
            <div class="nav-item" role="menuitem" tabindex="0">
              <a href="#">PRODUCT</a>
            </div>
            <div class="nav-item" role="menuitem" tabindex="0">
              <a href="#">TECH</a>
            </div>
            <div class="nav-item" role="menuitem" tabindex="0">
              <a href="#">WHY SMOKEGUARD</a>
            </div>
          </div>
          <div class="action-container">
            <button class="order-button" type="button">BESTEL NU</button>
            <div class="social-links">
              <img
                loading="lazy"
                src="https://cdn.builder.io/api/v1/image/assets/TEMP/e060982a3c46a2edc1738ef80b42f45838ffa2c1e57d5c4ab42631f09ee97786?placeholderIfAbsent=true&apiKey=a70dacacf9cf43edb72fb60a0a2a6b13"
                alt="Social media link"
                class="social-icon"
              />
              <img
                loading="lazy"
                src="https://cdn.builder.io/api/v1/image/assets/TEMP/6257af1ce8de07b5331d0364ef91fad7f3e942fbc056175b907b6d9e61ebc855?placeholderIfAbsent=true&apiKey=a70dacacf9cf43edb72fb60a0a2a6b13"
                alt="Social media link"
                class="social-icon"
              />
            </div>
          </div>
        </div>
      </nav>

      <section
        class="hero text-center text-white d-flex flex-column align-items-center justify-content-center"
      >
        <div class="container py-5">
          <div class="row">
            <div class="hero-content col-md-6">
              <div class="text-fill-container">
                <h1
                  class="text-start typing-demo animated-text"
                  style="
                    stroke-width: 2px;
                    -webkit-text-stroke-color: #2a9d8f;
                    -webkit-text-stroke-width: 1px;
                    font-weight: bold;
                    color: transparent;
                  "
                  data-text="Neem controle over je rookgedrag"
                >
                  Neem controle over je rookgedrag
                </h1>
                <svg width="0" height="0">
                  <defs>
                    <linearGradient
                      id="text-gradient"
                      x1="0%"
                      y1="0%"
                      x2="100%"
                      y2="0%"
                    >
                      <stop
                        offset="0%"
                        style="stop-color: #a8dadc; stop-opacity: 1"
                      />
                      <stop
                        offset="50%"
                        style="stop-color: #1d3557; stop-opacity: 1"
                      />
                      <stop
                        offset="100%"
                        style="stop-color: #2a9d8f; stop-opacity: 1"
                      />
                    </linearGradient>
                  </defs>
                </svg>
              </div>
              <p class="mt-3 text-start typing-demo" style="color: #a2a2a2">
                Nieuw jaar, nieuwe jij. SmokeGuard helpt je stoppen met roken –
                jouw eerste stap naar een gezonder leven.
              </p>
              <button class="shiny-cta" id="learn-more">BESTEL NU</button>
            </div>
            <div class="col-md-6">
              <div id="container3d"></div>
            </div>
            <div class="color-selector">
              <span class="label">Metallic</span>
              <div class="color-circle" data-color="#2A9D8F"></div>
              <div class="color-circle" data-color="#002366"></div>
              <div class="color-circle" data-color="#ffcc00"></div>
              <div class="color-circle" data-color="#8b0000"></div>
              <div class="color-circle" data-color="#333333"></div>
            </div>
          </div>
          <img
            src="./Assets/filler.svg"
            style="position: absolute; left: 0%; top: 50%"
          />
          <div
            class="scrollcontainer"
            id="scroll-icon"
            style="position: relative"
          >
            <div class="scroll">
              <div class="scrollcircle"></div>
            </div>
          </div>
          <svg
            id="wave-path"
            width="100%"
            height="200px"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 1200 200"
          >
            <path
              id="wave-path-line"
              d="M0,50 Q250,0 500,50 T1250,50"
              fill="transparent"
              stroke="rgb(255, 255, 255, 0.17)"
              stroke-width="2"
            />
          </svg>
        </div>
      </section>

      <div class="parallax"></div>

      <section id="product" class="bg-black text-white py-5">
        <div class="container">
          <h2 class="text-center">Product</h2>
          <p class="text-center">Take Control of Your Smoking Habits!</p>
          <div class="row mt-4 text-center">
            <div class="col-md-3">
              <h5>Set Your Daily Limit</h5>
              <p>
                Choose how many cigarettes you want to smoke each day.
                SmokeGuard keeps you on track.
              </p>
            </div>
            <div class="col-md-3">
              <h5>Real-Time Tracking</h5>
              <p>
                Get instant feedback on your smoking patterns through the
                built-in screen or companion app.
              </p>
            </div>
            <div class="col-md-3">
              <h5>Automatic Locking</h5>
              <p>
                Once you reach your limit, the case locks, keeping you in
                control of your habits.
              </p>
            </div>
            <div class="col-md-3">
              <h5>Sleek & Compact Design</h5>
              <p>
                Modern, durable, and pocket-sized – designed to fit your
                lifestyle.
              </p>
            </div>
          </div>
        </div>
      </section>

      <section id="hardware" class="py-5">
        <div class="container">
          <h2 class="text-center">Hardware</h2>
          <div class="row align-items-center mt-4">
            <div class="col-md-6">
              <img
                src="hardware-placeholder.jpg"
                class="img-fluid"
                alt="Hardware Components"
              />
            </div>
            <div class="col-md-6">
              <h5>Smart Connectivity</h5>
              <p>
                Sync seamlessly with the SmokeGuard app via Bluetooth to set
                limits, track your progress, and receive real-time
                notifications.
              </p>
              <h5>Battery Life & Charging</h5>
              <p>
                Equipped with a long-lasting battery, SmokeGuard offers up to 7
                days of operation on a single charge.
              </p>
            </div>
          </div>
        </div>
      </section>

      <div class="cursor"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.9.1/gsap.min.js"></script>
    <script src="script.js"></script>
    <script type="module" src="cursor.js"></script>

    <script>
      const container = document.getElementById("container3d");
      const scene = new THREE.Scene();

      // Camera Setup
      const camera = new THREE.PerspectiveCamera(
        75,
        window.innerWidth / window.innerHeight,
        0.1,
        1000
      );
      camera.position.set(-0.5, 1, 3);

      // Renderer Setup
      const renderer = new THREE.WebGLRenderer({ antialias: true });
      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.shadowMap.enabled = true;
      container.appendChild(renderer.domElement);

      // Verlichting
      const directionalLight = new THREE.DirectionalLight(0xffffff, 2); // Verhoog intensiteit
      directionalLight.position.set(2, 5, 5); // Verander positie
      scene.add(directionalLight);

      const ambientLight = new THREE.AmbientLight(0xffffff, 0.8); // Verhoog intensiteit
      scene.add(ambientLight);

      // OrbitControls (maar zonder muisinteractie voor de rotatie)
      const controls = new THREE.OrbitControls(camera, renderer.domElement);
      controls.enableRotate = false;
      controls.enableZoom = false;

      // 3D Model Laden
      const loader = new THREE.GLTFLoader();
      loader.load(
        "./Assets/ImageToStl.com_casebottomtest.gltf", // Model pad
        (gltf) => {
          const model = gltf.scene;

          // Controleer de bounding box en center het model
          const box = new THREE.Box3().setFromObject(model);
          const center = box.getCenter(new THREE.Vector3());
          const size = box.getSize(new THREE.Vector3());

          // Zet rotatie in radialen (controleer de juiste waarden)
          const rotations = { x: 95, y: 180, z: 50 };

          model.rotation.set(
            THREE.MathUtils.degToRad(rotations.x),
            THREE.MathUtils.degToRad(rotations.y),
            THREE.MathUtils.degToRad(rotations.z)
          );

          // Verplaats model zodat de bodem van de box op Y=0 ligt
          model.position.set(0.8, 0.2, 0);

          // Geef het model een kleur (bijvoorbeeld blauw)
          model.traverse((child) => {
            if (child.isMesh) {
              child.material = new THREE.MeshStandardMaterial({
                color: "#2A9D8F",
                metalness: 1,
                roughness: 1,
                envMap: scene.environment,
              });
              child.castShadow = true;
              child.receiveShadow = false;
            }
          });

          const shadowMaterial = new THREE.ShadowMaterial({ opacity: 0.6 }); // Verbeterde zichtbaarheid van schaduw
          const groundGeometry = new THREE.PlaneGeometry(10, 10);
          const ground = new THREE.Mesh(groundGeometry, shadowMaterial);
          ground.rotation.x = -Math.PI / 2; // Zorg ervoor dat de schaduw horizontaal is
          ground.position.y = -0.2; // Plaats het vlak net onder het model
          ground.receiveShadow = true; // Zorg ervoor dat de grond schaduw ontvangt
          scene.add(ground);

          const directionalLight = new THREE.DirectionalLight(0xffffff, 2);
          directionalLight.position.set(2, 5, 5); // Verhoog de intensiteit van de schaduw
          directionalLight.castShadow = true; // Zorg ervoor dat het licht schaduwen werpt
          scene.add(directionalLight);

          // Optionele schaal
          model.scale.set(0.02, 0.01, 0.01);
          scene.add(model);

          // Scroll Event voor rotatie
          window.addEventListener("scroll", () => {
            const scrollY = window.scrollY;
            const scrollFactor = scrollY * 0.05; // Snelheid van de rotatie

            // Roteer het model op de X- en Y-as afhankelijk van scrollen
            model.rotation.x = THREE.MathUtils.degToRad(
              rotations.x + scrollFactor
            );
            model.rotation.y = THREE.MathUtils.degToRad(
              rotations.y + scrollFactor
            );
          });
        }
      );

      loader.load(
        "./Assets/casetopv5.glb", // Model path
        (gltf) => {
          const model = gltf.scene;

          // Bounding box en centrering
          const box = new THREE.Box3().setFromObject(model);
          const center = box.getCenter(new THREE.Vector3());

          // Rotatie in radialen
          const initialRotations = { x: 5, y: 49, z: 180 }; // Beginstand
          const targetRotations = { x: 5, y: 49, z: 90 }; // Eindstand

          model.rotation.set(
            THREE.MathUtils.degToRad(initialRotations.x),
            THREE.MathUtils.degToRad(initialRotations.y),
            THREE.MathUtils.degToRad(initialRotations.z)
          );

          // Verplaats model zodat het op dezelfde plek blijft
          model.position.set(1, 1.05, 3.25);

          // Geef kleur aan het model
          model.traverse((child) => {
            if (child.isMesh) {
              child.material = new THREE.MeshStandardMaterial({
                color: "#2A9D8F",
                metalness: 1,
                roughness: 1,
                envMap: scene.environment,
              });
              child.castShadow = true;
              child.receiveShadow = false;
            }
          });

          const shadowMaterial = new THREE.ShadowMaterial({ opacity: 0.6 }); // Verbeterde zichtbaarheid van schaduw
          const groundGeometry = new THREE.PlaneGeometry(10, 10);
          const ground = new THREE.Mesh(groundGeometry, shadowMaterial);
          ground.rotation.x = -Math.PI / 2; // Zorg ervoor dat de schaduw horizontaal is
          ground.position.y = -0.2; // Plaats het vlak net onder het model
          ground.receiveShadow = true; // Zorg ervoor dat de grond schaduw ontvangt
          scene.add(ground);

          const directionalLight = new THREE.DirectionalLight(0xffffff, 2);
          directionalLight.position.set(2, 5, 5); // Verhoog de intensiteit van de schaduw
          directionalLight.castShadow = true; // Zorg ervoor dat het licht schaduwen werpt
          scene.add(directionalLight);

          // Optionele schaal
          model.scale.set(0.02, 0.01, 0.01);
          scene.add(model);

          // Scroll Event om de Z-rotatie te veranderen
          window.addEventListener("scroll", () => {
            const scrollY = window.scrollY;
            const scrollX = window.scrollX;
            const scrollFactor = Math.min(scrollY / 400, 1); // Maximaal tot 90 graden bij scrollY = 500px

            model.rotation.z = THREE.MathUtils.degToRad(
              initialRotations.z +
                scrollFactor * (targetRotations.z - initialRotations.z)
            );
            model.position.y = 1.05 + scrollY * 0.007;
            model.position.x = 1 - scrollY * 0.0;
            model.position.z = 3.25 + scrollY * 0.0;
          });
        }
      );

      // Resize handling
      window.addEventListener("resize", () => {
        const width = window.innerWidth;
        const height = window.innerHeight;
        renderer.setSize(width, height);
        camera.aspect = width / height;
        camera.updateProjectionMatrix();
      });

      // Animation Loop
      function animate() {
        requestAnimationFrame(animate);
        controls.update();
        renderer.render(scene, camera);
      }
      animate();

      const colorCircles = document.querySelectorAll(".color-circle");

      colorCircles.forEach((circle) => {
        circle.addEventListener("click", () => {
          const newColor = circle.getAttribute("data-color");

          // Zoek het 3D-model in de scène en verander de kleur
          scene.traverse((child) => {
            if (child.isMesh) {
              child.material.color.set(newColor);
            }
          });
        });

        circle.addEventListener("mouseover", () => {
          const hoverColor = circle.getAttribute("data-color");

          // Geef een preview van de kleur bij hover
          scene.traverse((child) => {
            if (child.isMesh) {
              child.material.color.set(hoverColor);
            }
          });
        });
      });

      window.addEventListener("load", () => {
        setTimeout(() => {
          // Verberg de loadanimatie
          document.querySelector(".loadAnim").style.display = "none";

          // Maak de hoofdinhoud zichtbaar
          document.getElementById("main-content").classList.remove("hidden");
        }, 3700); // 4 seconden (4000 ms)
      });

      document.addEventListener("scroll", function () {
        var parallax = document.querySelector(".parallax");
        var scrollPosition = window.scrollY;

        // Pas de achtergrondpositie aan op basis van de scrollpositie
        parallax.style.backgroundPosition =
          "center " + scrollPosition * 0.5 + "px";
      });
    </script>
  </body>
</html>
